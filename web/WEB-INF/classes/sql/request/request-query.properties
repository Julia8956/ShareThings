listCount=SELECT COUNT(*) FROM REQ_PRODUCT RP JOIN PRODUCT P ON(RP.PNO = P.PNO) WHERE P.SID IN('PS1', 'PS4')
reqList=SELECT RNUM, REQP_NO, USER_NAME, CTG_NAME, REQP_DATE, BTITLE, STATUS FROM (SELECT ROWNUM RNUM, REQP_NO, USER_NAME, CTG_NAME, REQP_DATE, BTITLE, STATUS FROM (SELECT R.REQP_NO, M.USER_NAME, PC.CTG_NAME, R.REQP_DATE, B.BTITLE, PS.STATUS FROM REQ_PRODUCT R JOIN BOARD B ON(B.PNO = R.PNO) JOIN PRODUCT P ON(P.PNO = R.PNO) JOIN PCATEGORY PC ON(P.CTG_ID = PC.CTG_ID) JOIN PSTATUS PS ON(P.SID = PS.SID) JOIN MEMBER M ON(P.UNO = M.UNO) WHERE PS.SID IN('PS1', 'PS4') ORDER BY STATUS DESC, PNO)) WHERE RNUM BETWEEN ? AND ?
reqOk=UPDATE PRODUCT SET SID = 'PS3' WHERE PNO = ?
reqOkResult=UPDATE REQ_PRODUCT SET RESULT_DATE = SYSDATE, REQP_RESULT = 'Y' WHERE REQP_NO = ?
reqNoSelect=SELECT R.REQP_NO, PC.CTG_NAME, M.USER_NAME FROM REQ_PRODUCT R JOIN PRODUCT P ON(P.PNO = R.PNO) JOIN PCATEGORY PC ON(P.CTG_ID = PC.CTG_ID) JOIN MEMBER M ON(P.UNO = M.UNO) WHERE P.SID LIKE 'PS1' AND R.REQP_NO = ?
reqNo=UPDATE PRODUCT SET SID = 'PS4' WHERE PNO = ?
reqNoResult=UPDATE REQ_PRODUCT SET REQP_RESULT = 'N', REJECT_REASON = ? WHERE REQP_NO = ?
reqOkSelect=SELECT R.REQP_NO, PC.CTG_NAME, M.USER_NAME FROM REQ_PRODUCT R JOIN PRODUCT P ON(P.PNO = R.PNO) JOIN PCATEGORY PC ON(P.CTG_ID = PC.CTG_ID) JOIN MEMBER M ON(P.UNO = M.UNO) WHERE P.SID LIKE 'PS1' AND R.REQP_NO = ?
delWait=INSERT INTO DELIVERY VALUES(SEQ_DNO.NEXTVAL, ?, ?, ?, NULL, ?, ?, (SELECT P.UNO FROM MEMBER M JOIN PRODUCT P ON(P.UNO = M.UNO) JOIN REQ_PRODUCT RP ON(P.PNO = RP.PNO) WHERE RP.REQP_NO = ?))